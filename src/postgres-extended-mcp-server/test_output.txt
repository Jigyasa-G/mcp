============================= test session starts ==============================
platform darwin -- Python 3.12.10, pytest-8.4.0, pluggy-1.6.0 -- /Users/gupjigz/.local/share/mise/installs/python/3.12.10/bin/python
cachedir: .pytest_cache
rootdir: /Users/gupjigz/Desktop/mcp-apg/mcp/src/postgres-extended-mcp-server
configfile: pyproject.toml
plugins: anyio-4.9.0, asyncio-1.0.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 10 items

tests/test_server.py::test_run_query_well_formatted_response PASSED      [ 10%]
tests/test_server.py::test_run_query_safe_read_queries_on_redonly_settings PASSED [ 20%]
tests/test_server.py::test_run_query_risky_queries_without_parameters PASSED [ 30%]
tests/test_server.py::test_run_query_throw_client_error PASSED           [ 40%]
tests/test_server.py::test_run_query_throw_unexpected_error PASSED       [ 50%]
tests/test_server.py::test_run_query_write_queries_on_readonly_setting PASSED [ 60%]
tests/test_server.py::test_run_query_write_queries_on_write_allowed_setting PASSED [ 70%]
tests/test_server.py::test_get_table_schema SKIPPED (Temporarily dis...) [ 80%]
tests/test_server.py::test_main_with_valid_parameters PASSED             [ 90%]
tests/test_server.py::test_main_with_invalid_parameters PASSED           [100%]

=============================== warnings summary ===============================
tests/test_server.py::test_main_with_valid_parameters
  /Users/gupjigz/Desktop/mcp-apg/mcp/src/postgres-extended-mcp-server/tests/test_server.py:773: RuntimeWarning: coroutine 'DBConnectionSingleton.initialize' was never awaited
    DBConnectionSingleton.initialize(
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=================== 9 passed, 1 skipped, 1 warning in 0.41s ====================
